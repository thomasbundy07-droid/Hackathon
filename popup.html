<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>LLM Response Metrics</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        font-size: 13px;
        padding: 16px;
        width: 350px;
        background: #f9f9f9;
        color: #333;
      }
      h2 {
        font-size: 16px;
        margin-bottom: 12px;
        color: #1f2937;
      }
      .section {
        background: white;
        border-radius: 6px;
        padding: 12px;
        margin-bottom: 12px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      }
      label {
        display: block;
        margin-bottom: 4px;
        font-weight: 500;
        color: #374151;
        font-size: 12px;
      }
      input[type="number"],
      input[type="text"] {
        width: 100%;
        padding: 6px;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        font-size: 13px;
      }
      input[type="checkbox"] {
        margin-right: 6px;
      }
      button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
        margin-top: 8px;
      }
      button:hover {
        background: #2563eb;
      }
      #last {
        background: #f3f4f6;
        padding: 8px;
        border-radius: 4px;
        font-size: 12px;
        margin-top: 8px;
        max-height: 150px;
        overflow-y: auto;
        font-family: monospace;
        word-break: break-word;
      }
      .note {
        font-size: 11px;
        color: #6b7280;
        margin-top: 8px;
      }
    </style>
  </head>
  <body>
    <h2>ðŸ“Š LLM Response Metrics</h2>

    <div class="section">
      <label for="ratio">Token Ratio (characters per token)</label>
      <input id="ratio" type="number" step="0.1" min="0.1" value="4" />
      <button id="save">Save Settings</button>
    </div>

    <div class="section">
      <label><input id="debug" type="checkbox" /> Enable Debug Logging</label>
      <p class="note">Check the DevTools console (Cmd+Option+J) to see detailed logs.</p>
    </div>


    <div class="section">
      <label>Last Metric</label>
      <div id="last">(waiting for metrics...)</div>
      <div id="emissions" style="margin-top:10px; font-size:12px; color:#065f46;"></div>
    </div>

    <div class="note" style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e5e7eb;">
      ðŸ’¡ Tip: Open DevTools Console (Cmd+Option+J) to see detailed detection logs and metrics.
    </div>

    <script src="emissions-calculator.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
